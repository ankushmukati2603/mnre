<div class="container-fluid policies mb-5">
    <h1 class="text-center wdet">Public Information</h1>

</div>

<div class="drop">
    <div class="option active placeholder" data-value="placeholder">
        Select option
    </div>
    <div class="option" data-value="/public-information/result-framework-document">
        RFD
    </div>
    <div class="option" data-value="/public-information/policies-and-guidelines">
        Policies
    </div>
    <div class="option" data-value="/public-information/presentations">
        Presentations
    </div>
    <div class="option" data-value="/public-information/advertisements">
        Advertisements
    </div>
    <div class="option" data-value="/public-information/events">
        Events
    </div>
    <div class="option" data-value="/public-information/reports">
        Reports
    </div>
    <div class="option" data-value="/public-information/circulars">
        Circulars
    </div>
    <div class="option" data-value="/public-information/notifications">
        Notifications
    </div>
    <div class="option" data-value="/public-information/accounts">
        Accounts
    </div>
    <div class="option" data-value="/public-information/supporting-programme">
        Supporting Programme
    </div>
    <div class="option" data-value="/public-information/designated-authority-and-nodal-officer">
        Designated Authority and Nodal Officer under (PIDPI)
    </div>
    <div class="option" data-value="/public-information/compendium">
        Compendium of Regulations and Policies on RE
    </div>
</div>

{{!-- <div class="container">
    <div class="d-flex justify-content-center">
        <div id="wow_tabs" class="active_tab_news">

            <div class="p-4 bd-news" onclick="selectNews('rfd')">
               RFD
            </div>
            <div class="p-4 bd-events">
                <a class="pollink" href="/public-information/policies">&nbsp;&nbsp;&nbsp;Policies&nbsp;&nbsp;&nbsp;</a>
            </div>
            <div class="p-4 bd-press" onclick="selectPress('presentation')">
                Presentations
            </div>
            <div class="p-4 bd-presentation" onclick="selectPresentations('advertisement')">
                Advertisements
            </div>
            <div class="p-4 bd-advertisement" onclick="selectAds('events')">
               Events
            </div>
            <div class="p-4 bd-gallery" onclick="selectGallery('reports')">
               Reports
            </div>
            <div class="p-4 bd-publication" onclick="selectPublications('circulars')">
                Circulars
            </div>
            <div class="p-4 bd-advertisement" onclick="selectEvents('notifications')">
                Notifications
            </div>
            <div class="p-4 bd-advertisement" onclick="selectEvents('notifications')">
                Accounts
            </div>
            <div class="p-4 bd-advertisement" onclick="selectEvents('notifications')">
                CDM Workshop
            </div>
            <div class="p-4 bd-advertisement" onclick="selectEvents('notifications')">
                Supporting Programme
            </div>
            <div class="p-4 bd-advertisement" onclick="selectEvents('notifications')">
                Designated Authority and Nodal Officer under (PIDPI)
            </div>
            <div class="p-4 bd-advertisement" onclick="selectEvents('notifications')">
                Compendium of Regulations and Policies on RE
            </div>

        </div>
    </div>
</div> --}}
<div class="container mt-5">
    {{!-- <div class="d-flex justify-content-center">
        <div class="searchbar">
            <input class="search_input" type="text" name="" placeholder="Search">
            <a href="#" class="search_icon"><i class="fas fa-search"></i></a>
        </div>
    </div> --}}
    <div class="row mt-2 sfilter">
        <div class="col-sm-2">
            <div class="form-group ">
                <select id="ilceler" class="form-control">
                    <option selected>Sort by</option>
                    <option>Relevance</option>
                    <option>Recency</option>
                    <option>Popularity</option>

                </select>
            </div>
        </div>
        <div class="col-sm-2">
            <div class="form-group ">
                <select id="arac-turu" class="form-control">
                    <option selected>Media type</option>
                    <option>PDF</option>
                    <option>Image</option>
                    <option>Video</option>

                </select>
            </div>
        </div>
    </div>
</div>
{{!-- EVENTS SECTION START --}}
<div class="events_block media_section">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 mt-3" style="margin:0 auto;">
                <h2 class="energtext text-center">Notifications</h2>
            </div>
        </div>
    </div>

    <div class="container mb-5 notfs">

    </div>
</div>
{{!-- EVENTS SECTION END --}}

{{!-- NEWS SECTION START --}}

<div class="news_block media_section">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 mt-3" style="margin:0 auto;">
                <h2 class="energtext text-center">Result Framework Document (RFD)</h2>
            </div>
        </div>
    </div>

    <div class="container mb-5 rfds">

    </div>
</div>
{{!-- NEWS SECTION END --}}
{{!-- PRESS RELEASE START --}}
<div class="press_block media_section">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 mt-3" style="margin:0 auto;">
                <h2 class="energtext text-center">Presentations</h2>
            </div>
        </div>
    </div>

    <div class="container prs_pub">

    </div>
</div>
{{!-- PRESS RELEASE END --}}
{{!-- PRESENTATION START --}}
<div class="presentation_block media_section">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 mt-3" style="margin:0 auto;">
                <h2 class="energtext text-center">Advertisements</h2>
            </div>
        </div>
    </div>


    <div class="container">
        <div class="row grp">

            <div class="col-sm-4 mt-5">
                <div class="project">
                    <img src="/img/news5.jpg" width="100%">
                    <p class="mt-2 projects">Title</p>
                    <a href="/news/{{this._id}}" class="mt-3 news_link">Read More &nbsp;&nbsp;<i
                            class="fas fa-arrow-circle-right"></i></a>
                </div>
            </div>


        </div>
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center mt-5">
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>
{{!-- PRESENTATION END --}}
{{!-- ADVERTISEMENT START --}}
<div class="advertisement_block media_section">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 mt-3" style="margin:0 auto;">
                <h2 class="energtext text-center">Events</h2>
            </div>
        </div>
    </div>


    <div class="event-section">
        <div class="row grp">

            <div class="col-sm-4 mt-5">
                <div class="project">
                    <img src="/img/news5.jpg" width="100%">
                    <p class="mt-2 projects">Title</p>
                    <a href="/news/{{this._id}}" class="mt-3 news_link">Read More &nbsp;&nbsp;<i
                            class="fas fa-arrow-circle-right"></i></a>
                </div>
            </div>


        </div>


        <div class="col-sm-12 text-center">

        </div>
    </div>
</div>

</div>

{{!-- ADVERTISEMENT END --}}
{{!-- GALLERY START --}}
<div class="gallery_block media_section">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 mt-3" style="margin:0 auto;">
                <h2 class="energtext text-center">Reports</h2>
            </div>
        </div>
    </div>

    <div class="container mb-5 reprts">

    </div>

</div>
{{!-- GALLERY END --}}
{{!-- PUBLICATION START --}}
<div class="publication_block media_section">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 mt-3" style="margin:0 auto;">
                <h2 class="energtext text-center">Circulars</h2>
            </div>
        </div>
    </div>

    <div class="container mb-5 crclrs">

    </div>
</div>
{{!-- PUBLICATION END --}}

{{!-- Policies Start --}}

<div class="policies_block media_section">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 mt-3" style="margin:0 auto;">
                <h2 class="energtext text-center">Policies</h2>

            </div>
        </div>
    </div>

    <div class="container mb-5 crclrs">

    </div>
</div>
{{!-- Policies End --}}

<script>
    var value = location.hash
    var choice = value.split('#')[1]

    const GET_RFD = function (section) {
        axios.get('http://13.126.228.224:1337/rfds').then(response => {
            console.log(response)
            if (response.data) {
                var rfds = response.data
                rfds.forEach(r => {
                    $('.rfds').append(`
                        <div class="row pdf ml-5 mr-5 mt-5">
                            <div class="col viewdoc">
                                <span class="date">&nbsp;</span>
                                <h4 class="guideh">${r.rfd_title}</h4>
                            </div>
                            <div class="col-sm-3">
                                <a href="http://13.126.228.224:1337${r.rfd_file.url}" class="ml-1" target="_blank"><img class="pdf" src="/img/view-pdf.png" alt="view"></a>
                                <span class="ml-1"><img class="pdf" src="/img/download-pdf.png" alt="view"></span>
                            </div>
                        </div>
                    `)
                })

            }
        })
    }

    const GET_PRESENTATION = function (section) {
        axios.get('http://13.126.228.224:1337/presentations').then(response => {
            console.log(response)
            if (response.data) {
                var rfds = response.data
                var row = $("<div class='row grp'></div>");
                for (var i = 0; i < rfds.length; i++) {
                    var r = rfds[i];
                    row.append(`                        
                            <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 mt-5">
                                <div class="project">
                                    <img src="/img/news5.jpg" width="100%">
                                    <p class="mt-2 projects">${r.presentation_title}</p>
                                    <a target="_blank" href="/news/{{this._id}}" class="mt-3 news_link">Read More &nbsp;&nbsp;<i
                                            class="fas fa-arrow-circle-right"></i></a>
                                </div>
                            </div>                        
                    `);
                }
                $('.prs_pub').append(row);
                {
                    {
                        !--rfds.forEach(r => {
                            $('.prs_pub').append(`
                        <div class="row grp">
                            <div class="col-sm-4 mt-5">
                                <div class="project">
                                    <img src="/img/news5.jpg" width="100%">
                                    <p class="mt-2 projects">${r.presentation_title}</p>
                                    <a target="_blank" href="/news/{{this._id}}" class="mt-3 news_link">Read More &nbsp;&nbsp;<i
                                            class="fas fa-arrow-circle-right"></i></a>
                                </div>
                            </div>
                        </div>
                    `);
                        }) --}
                }

            }
        })
    }

    const GET_REPORTS = function (section) {
        axios.get('http://13.126.228.224:1337/reports').then(response => {
            console.log(response)
            if (response.data) {
                var rfds = response.data
                rfds.forEach(r => {
                    $('.reprts').append(`
                        <div class="row pdf ml-5 mr-5 mt-5">
                            <div class="col viewdoc">
                                <span class="date">2016-2017</span>
                                <h4 class="guideh">${r.report_title}</h4>

                            </div>
                            <div class="col-sm-3">
                                <a target="_blank" href="http://13.126.228.224:1337${r.report_file.url}" class="ml-1"><img class="pdf" src="/img/view-pdf.png" alt="view"></a>
                                <span class="ml-1"><img class="pdf" src="/img/download-pdf.png" alt="view"></span>



                            </div>
                        </div>
                    `)
                })

            }
        })
    }

    const GET_CIRCULARS = function (section) {
        axios.get('http://13.126.228.224:1337/circulars').then(response => {
            console.log(response)
            if (response.data) {
                var rfds = response.data
                rfds.forEach(r => {
                    console.log(r)
                    if (r.circular_file != null) {
                        $('.crclrs').append(`
                        <div class="row pdf ml-5 mr-5 mt-5">
                            <div class="col viewdoc">
                                <span class="date">2016-2017</span>
                                <h4 class="guideh">${r.circular_title}</h4>

                            </div>
                            <div class="col-sm-3">
                                <a target="_blank" href="http://13.126.228.224:1337${r.circular_file.url}" class="ml-1"><img class="pdf" src="/img/view-pdf.png" alt="view"></a>
                                <span class="ml-1"><img class="pdf" src="/img/download-pdf.png" alt="view"></span>



                            </div>
                        </div>
                    `)
                    }
                })

            }
        })
    }

    const GET_NOTIFS = function (section) {
        axios.get('http://13.126.228.224:1337/notifications').then(response => {
            console.log(response)
            if (response.data) {
                var rfds = response.data
                rfds.forEach(r => {
                    console.log(r)
                    if (r.notification_file != null) {
                        $('.notfs').append(`
                        <div class="row pdf ml-5 mr-5 mt-5">
                            <div class="col viewdoc">
                                <span class="date">2016-2017</span>
                                <h4 class="guideh">${r.notification_title}</h4>

                            </div>
                            <div class="col-sm-3">
                                <a target="_blank" href="http://13.126.228.224:1337${r.notification_file.url}" class="ml-1"><img class="pdf" src="/img/view-pdf.png" alt="view"></a>
                                <span class="ml-1"><img class="pdf" src="/img/download-pdf.png" alt="view"></span>



                            </div>
                        </div>
                    `)
                    }
                })

            }
        })
    }

    switch (choice) {
        case 'rfd':
            GET_RFD()
            break;
        case 'presentation':
            GET_PRESENTATION()
            break;
        case 'reports':
            GET_REPORTS()
            break;
        case 'circulars':
            GET_CIRCULARS()
            break;
        case 'notifications':
            GET_NOTIFS()
            break;
        default:
            console.log('WOW')
            break;
    }

    $(window).on('hashchange', function () {
        var HASH_VALUE = location.hash.split('#')[1]
        switch (HASH_VALUE) {
            case 'rfd':
                GET_RFD()
                break;
            case 'presentation':
                GET_PRESENTATION()
                break;
            case 'reports':
                GET_REPORTS()
                break;
            case 'circulars':
                GET_CIRCULARS()
                break;
            case 'notifications':
                GET_NOTIFS()
                break;
            default:
                console.log('WOW')
                break;
        }
    })
</script>
<script>
     $('.option').not('.option:nth-child(1)').on('click', function (e) {
            var target = $(e.currentTarget).data('value')
            if (target == location.pathname) {
                console.log("currently on the same page")
            } else {
                location.href = target
            }
        })
</script>